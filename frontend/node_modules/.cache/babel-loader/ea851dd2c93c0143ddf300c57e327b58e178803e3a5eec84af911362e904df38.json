{"ast":null,"code":"var _jsxFileName = \"/Users/pragatiprasanna/Desktop/expense/exp/frontend/src/component/chart-horizontal.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport { API_URL } from '../config';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\nconst options = {\n  indexAxis: 'y',\n  elements: {\n    bar: {\n      borderWidth: 2\n    }\n  },\n  responsive: true,\n  plugins: {\n    legend: {\n      position: 'right'\n    },\n    title: {\n      display: true,\n      text: 'Expense and Income Chart'\n    }\n  }\n};\nconst HorizontalChart = () => {\n  _s();\n  const [data, setData] = useState({\n    labels: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    datasets: [{\n      label: 'Expense',\n      data: [],\n      borderColor: 'rgb(255, 99, 132)',\n      backgroundColor: 'rgba(255, 99, 132, 0.5)'\n    }, {\n      label: 'Income',\n      data: [],\n      borderColor: 'rgb(53, 162, 235)',\n      backgroundColor: 'rgba(53, 162, 235, 0.5)'\n    }]\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const email = localStorage.getItem('userEmail');\n        const responseUser = await axios.get(`${API_URL}/api/user/fetchuser`, {\n          params: {\n            email: email\n          }\n        });\n        const userid = responseUser.data._id;\n        const expenseUrl = `${API_URL}/api/track/getexpense/${userid}`;\n        const incomeUrl = `${API_URL}/api/track/get-income/${userid}`;\n        try {\n          const [expenseResponse, incomeResponse] = await Promise.all([fetch(expenseUrl), fetch(incomeUrl)]);\n          const [expenseData, incomeData] = await Promise.all([expenseResponse.json(), incomeResponse.json()]);\n          const labels = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n          const expenseValues = expenseData.map(expense => expense.amount);\n          const incomeValues = incomeData.map(income => income.amount);\n          console.log(expenseValues);\n          setData(prevData => ({\n            labels,\n            datasets: [{\n              ...prevData.datasets[0],\n              data: expenseValues\n            }, {\n              ...prevData.datasets[1],\n              data: incomeValues\n            }]\n          }));\n          setLoading(false);\n        } catch (error) {\n          console.error('Error fetching data:', error);\n          setError('Error fetching data');\n          setLoading(false);\n        }\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n        setError('Error fetching user data');\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '80%',\n      height: '50%'\n    },\n    children: /*#__PURE__*/_jsxDEV(Bar, {\n      data: data,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n_s(HorizontalChart, \"o+itVAdjWfoJBQU3QcfqnOXB4J4=\");\n_c = HorizontalChart;\nexport default HorizontalChart;\nvar _c;\n$RefreshReg$(_c, \"HorizontalChart\");","map":{"version":3,"names":["useEffect","useState","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","Bar","API_URL","axios","jsxDEV","_jsxDEV","register","options","indexAxis","elements","bar","borderWidth","responsive","plugins","legend","position","title","display","text","HorizontalChart","_s","data","setData","labels","datasets","label","borderColor","backgroundColor","loading","setLoading","error","setError","fetchData","email","localStorage","getItem","responseUser","get","params","userid","_id","expenseUrl","incomeUrl","expenseResponse","incomeResponse","Promise","all","fetch","expenseData","incomeData","json","expenseValues","map","expense","amount","incomeValues","income","console","log","prevData","children","fileName","_jsxFileName","lineNumber","columnNumber","style","width","height","_c","$RefreshReg$"],"sources":["/Users/pragatiprasanna/Desktop/expense/exp/frontend/src/component/chart-horizontal.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport { API_URL } from '../config';\nimport axios from 'axios';\n\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\n\nconst options = {\n  indexAxis: 'y',\n  elements: {\n    bar: {\n      borderWidth: 2,\n    },\n  },\n  responsive: true,\n  plugins: {\n    legend: {\n      position: 'right',\n    },\n    title: {\n      display: true,\n      text: 'Expense and Income Chart',\n    },\n  },\n};\n\nconst HorizontalChart = () => {\n  const [data, setData] = useState({\n    labels: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    datasets: [\n      {\n        label: 'Expense',\n        data: [],\n        borderColor: 'rgb(255, 99, 132)',\n        backgroundColor: 'rgba(255, 99, 132, 0.5)',\n      },\n      {\n        label: 'Income',\n        data: [],\n        borderColor: 'rgb(53, 162, 235)',\n        backgroundColor: 'rgba(53, 162, 235, 0.5)',\n      },\n    ],\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const email = localStorage.getItem('userEmail');\n        const responseUser = await axios.get(`${API_URL}/api/user/fetchuser`, {\n          params: {\n            email: email,\n          },\n        });\n\n        const userid = responseUser.data._id;\n        const expenseUrl = `${API_URL}/api/track/getexpense/${userid}`;\n        const incomeUrl = `${API_URL}/api/track/get-income/${userid}`;\n\n        try {\n          const [expenseResponse, incomeResponse] = await Promise.all([\n            fetch(expenseUrl),\n            fetch(incomeUrl),\n          ]);\n\n          const [expenseData, incomeData] = await Promise.all([\n            expenseResponse.json(),\n            incomeResponse.json(),\n          ]);\n\n          const labels = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n          const expenseValues = expenseData.map((expense) => expense.amount);\n          const incomeValues = incomeData.map((income) => income.amount);\n          console.log(expenseValues);\n          setData((prevData) => ({\n            labels,\n            datasets: [\n              {\n                ...prevData.datasets[0],\n                data: expenseValues,\n              },\n              {\n                ...prevData.datasets[1],\n                data: incomeValues,\n              },\n            ],\n          }));\n          setLoading(false);\n        } catch (error) {\n          console.error('Error fetching data:', error);\n          setError('Error fetching data');\n          setLoading(false);\n        }\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n        setError('Error fetching user data');\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>Error: {error}</div>;\n  }\n\n  return (\n    <div style={{ width: '80%', height: '50%' }}>\n      <Bar data={data} options={options} />\n    </div>\n  );\n};\n\nexport default HorizontalChart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}