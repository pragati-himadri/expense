{"ast":null,"code":"var _jsxFileName = \"/Users/pragatiprasanna/Desktop/expense/exp/frontend/src/pages/Register/Register.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Register.css\";\nimport { API_URL } from \"../../config\";\nimport image from \"../imageback.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Register() {\n  _s();\n  const history = useNavigate();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isAdmin, setIsAdmin] = useState(false);\n  async function submit(e) {\n    e.preventDefault();\n    try {\n      const response = await axios.post(`${API_URL}/api/user/register`, {\n        username,\n        email,\n        password,\n        isAdmin: isAdmin ? true : false\n      });\n      console.log(response.data);\n      if (response.data === \"exist\") {\n        alert(\"User already exists\");\n      } else if (response.data === \"notexist\") {\n        // Registration success\n        alert(\"Registration successful\");\n\n        // Optionally, redirect to another page or perform other actions\n        history(\"/login\", {\n          state: {\n            id: email\n          }\n        });\n      }\n    } catch (e) {\n      console.log(e);\n      alert(\"Invalid email or password\");\n    }\n  }\n  useEffect(() => {\n    if (localStorage.getItem('userEmail')) {\n      history('/');\n    }\n  }, [history]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register\",\n    style: {\n      backgroundImage: `url(${image})`,\n      backgroundSize: 'cover'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boxes\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"POST\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"username\",\n          onChange: e => {\n            setUsername(e.target.value);\n          },\n          placeholder: \"username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          onChange: e => {\n            setEmail(e.target.value);\n          },\n          placeholder: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          onChange: e => {\n            setPassword(e.target.value);\n          },\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Are you Admin?\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            onChange: e => {\n              setIsAdmin(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          onClick: submit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n_s(Register, \"FjCtYQ+CCfHexGGLGEEINGozFh4=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","API_URL","image","jsxDEV","_jsxDEV","Register","_s","history","username","setUsername","email","setEmail","password","setPassword","isAdmin","setIsAdmin","submit","e","preventDefault","response","post","console","log","data","alert","state","id","localStorage","getItem","className","style","backgroundImage","backgroundSize","children","fileName","_jsxFileName","lineNumber","columnNumber","action","type","onChange","target","value","placeholder","onClick","_c","$RefreshReg$"],"sources":["/Users/pragatiprasanna/Desktop/expense/exp/frontend/src/pages/Register/Register.js"],"sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\"\r\nimport axios from \"axios\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport \"./Register.css\"\r\nimport { API_URL } from \"../../config\";\r\nimport image from \"../imageback.jpg\";\r\n\r\nfunction Register() {\r\n    const history=useNavigate();\r\n    const [username,setUsername]=useState('')\r\n    const [email,setEmail]=useState('')\r\n    const [password,setPassword]=useState('')\r\n    const [isAdmin, setIsAdmin] = useState(false)\r\n\r\n    async function submit(e){\r\n        e.preventDefault();\r\n\r\n        try{\r\n          const response = await axios.post(`${API_URL}/api/user/register`, {\r\n            username,\r\n            email,\r\n            password,\r\n            isAdmin: isAdmin ? true : false,\r\n          });\r\n          console.log(response.data);\r\n          if (response.data === \"exist\") {\r\n            alert(\"User already exists\");\r\n          } else if (response.data === \"notexist\") {\r\n            // Registration success\r\n            alert(\"Registration successful\");\r\n      \r\n            // Optionally, redirect to another page or perform other actions\r\n            history(\"/login\", { state: { id: email } });\r\n          }      \r\n        }\r\n        catch(e){\r\n            console.log(e);\r\n            alert(\"Invalid email or password\");\r\n        }}\r\n        useEffect(() =>{\r\n          if(localStorage.getItem('userEmail')){\r\n            history('/')\r\n          }\r\n        } , [history] )\r\n\r\n    return (\r\n        <div className=\"register\" style={{ backgroundImage: `url(${image})`, backgroundSize: 'cover' }} >\r\n            <div className=\"boxes\">\r\n\r\n            <h1>Register</h1>\r\n            <form action=\"POST\" >\r\n                 <input type=\"username\" onChange={(e) => { setUsername(e.target.value) }} placeholder=\"username\"  />\r\n                <input type=\"email\" onChange={(e) => { setEmail(e.target.value) }} placeholder=\"Email\"  />\r\n                <input type=\"password\" onChange={(e) => { setPassword(e.target.value) }} placeholder=\"Password\" />\r\n                <label >Are you Admin?\r\n                <input type=\"checkbox\" onChange={(e) => { setIsAdmin(e.target.value) }}   />\r\n                </label>\r\n                <input type=\"submit\" onClick={submit} />\r\n\r\n            </form>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}